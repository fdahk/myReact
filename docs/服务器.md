Linux系统核心目录结构详解:
    1. bin (Binary)
    作用: 存放系统基本命令的二进制可执行文件
    内容: 如 ls, cp, mv, cat, bash 等基础命令
    权限: 所有用户都可以执行这些命令
    2. boot (Boot)
    作用: 存放系统启动相关的文件
    内容: 内核文件(vmlinuz)、引导加载程序(GRUB)、初始RAM磁盘(initrd)
    重要性: 系统启动必需的文件，损坏会导致无法启动
    3. data
    作用: 自定义数据目录（非标准Linux目录）
    用途: 通常用于存放应用程序数据或用户数据
    特点: 可能是管理员创建的专用数据存储目录
    4. dev (Devices)
    作用: 设备文件目录，包含所有硬件设备的文件表示
    内容: 硬盘(/dev/sda)、终端(/dev/tty)、随机数生成器(/dev/random)等
    特性: 动态生成，系统启动时自动创建
    5. etc (Et Cetera)
    作用: 系统配置文件目录
    内容:
    系统配置文件(passwd, hosts, fstab)
    服务配置文件
    网络配置
    软件包配置
    重要性: 系统行为的核心控制文件
    6. home
    作用: 普通用户的主目录
    结构: /home/用户名/ 的形式
    内容: 用户的个人文件、配置、文档等
    权限: 每个用户只能访问自己的home目录
    7. lib, lib32, lib64, libx32 (Libraries)
    lib: 32位和64位共享的库文件
    lib32: 32位系统库文件
    lib64: 64位系统库文件
    libx32: x32 ABI库文件（64位处理器上的32位指针）
    作用: 系统运行必需的共享库文件
    8. lost+found
    作用: 文件系统检查时恢复的"孤儿"文件存放处
    用途: fsck工具在文件系统检查时发现的无主文件会放在这里
    特点: 每个ext文件系统分区都有这个目录
    9. media
    作用: 可移动媒体设备的挂载点
    内容: CD-ROM、USB设备、软盘等的自动挂载位置
    使用: 现代系统通常自动管理
    10. mnt (Mount)
    作用: 临时文件系统挂载点
    用途: 管理员手动挂载文件系统的标准位置
    区别: 与media不同，mnt用于临时挂载
    11. opt (Optional)
    作用: 可选软件包安装目录
    内容: 第三方软件、商业软件
    结构: /opt/软件名/ 的形式组织
    优势: 保持系统目录整洁
    12. proc (Process)
    作用: 虚拟文件系统，提供内核和进程信息接口
    内容:
    进程信息(/proc/PID/)
    系统信息(/proc/cpuinfo, /proc/meminfo)
    内核参数(/proc/sys/)
    特性: 内存中存在，重启后消失
    13. root
    作用: root用户（超级用户）的主目录
    位置: 独立于/home，位于根分区
    权限: 只有root用户可以访问
    重要性: 系统管理员的工作目录
    14. run
    作用: 运行时数据目录
    内容:
    进程ID文件(PID files)
    socket文件
    临时运行时数据
    特性: 系统启动时创建，重启后清空
    15. sbin (System Binary)
    作用: 系统管理命令目录
    内容: 系统管理工具(fdisk, mount, iptables)
    权限: 通常只有root用户可以执行
    区别: 与bin相比，sbin存放系统级管理命令
    16. snap
    作用: Snap包管理系统的应用目录
    特点: Ubuntu等系统的新型包管理方式
    内容: 以snap格式安装的应用程序
    优势: 应用隔离，依赖自包含
    17. srv (Service)
    作用: 服务数据目录
    内容: Web服务器、FTP服务器等的数据文件
    组织: 按服务类型组织(/srv/www, /srv/ftp)
    18. sys (System)
    作用: 系统设备和驱动信息的虚拟文件系统
    内容: 硬件设备信息、驱动程序接口
    特性: 与proc类似，提供内核接口
    用途: 系统管理和硬件控制
    19. tmp (Temporary)
    作用: 临时文件存储目录
    特性:
    所有用户都可以写入
    系统重启时可能被清空
    通常有大小限制
    权限: 特殊权限位设置(sticky bit)
    20. usr (Unix System Resources)
    作用: 用户程序和数据目录
    子目录:
    /usr/bin: 用户命令
    /usr/lib: 程序库
    /usr/local: 本地安装的程序
    /usr/share: 共享数据
    特点: 可以是只读的，包含大部分用户程序
    21. var (Variable)
    作用: 可变数据文件目录
    内容:
    日志文件(/var/log)
    邮件(/var/mail)
    缓存(/var/cache)
    临时文件(/var/tmp)
    特点: 文件大小经常变化

    这个目录结构完全符合FHS（Filesystem Hierarchy Standard）标准，是一个标准的Linux服务器环境。

## 用户创建的文件 vs 系统文件分析

### 1. 用户/管理员创建的目录和文件

#### **用户目录**
- **data/** (2022/5/18)
  - 非标准Linux目录
  - 管理员自定义创建
  - 通常用于存放应用数据、数据库文件、备份等
  - 开发部署时的数据存储目录

#### **用户创建内容位置**
- **/home/用户名/**
  - 用户个人文件
  - 项目代码
  - 配置文件 (.bashrc, .profile, .ssh/)
  
- **/opt/**
  - 第三方软件安装
  - 自定义应用程序
  - 例：/opt/myapp/, /opt/nodejs/

- **/srv/**
  - Web服务器文档根目录
  - FTP服务器数据
  - 例：/srv/www/, /srv/ftp/

- **/usr/local/**
  - 本地编译安装的软件
  - 自定义脚本和工具
  - 例：/usr/local/bin/, /usr/local/src/

- **/var/www/**
  - Web应用程序
  - 网站文件
  - 上传文件存储

### 2. 开发时实际操作的核心文件和目录

#### **应用程序部署相关**
```bash
/opt/myapp/                    # 应用程序安装目录
/srv/www/                      # Web应用根目录
/home/deploy/projects/         # 项目代码目录
/data/                         # 数据存储（如图中的data目录）
```

#### **配置文件操作**
```bash
# 系统服务配置
/etc/systemd/system/           # 自定义服务文件
/etc/nginx/                    # Nginx配置
/etc/apache2/                  # Apache配置
/etc/mysql/                    # MySQL配置
/etc/redis/                    # Redis配置

# 网络和安全配置
/etc/hosts                     # 主机名解析
/etc/hostname                  # 主机名
/etc/iptables/                 # 防火墙规则
/etc/ssl/                      # SSL证书
```

#### **日志文件监控**
```bash
/var/log/nginx/                # Web服务器日志
/var/log/mysql/                # 数据库日志
/var/log/syslog                # 系统日志
/var/log/auth.log              # 认证日志
/var/log/cron.log              # 定时任务日志
```

#### **临时和缓存文件**
```bash
/tmp/                          # 临时文件处理
/var/tmp/                      # 长期临时文件
/var/cache/                    # 应用缓存
```

### 3. 开发部署的典型文件操作

#### **代码部署流程涉及的目录**
```bash
# 1. 代码仓库克隆
/home/deploy/repos/myproject/

# 2. 应用程序安装
/opt/myproject/
├── bin/                       # 可执行文件
├── config/                    # 配置文件
├── logs/                      # 应用日志
├── static/                    # 静态资源
└── uploads/                   # 上传文件

# 3. 数据存储
/data/
├── mysql/                     # 数据库数据文件
├── redis/                     # Redis持久化文件
├── uploads/                   # 用户上传文件
└── backups/                   # 备份文件
```

#### **开发常用操作**
```bash
# Nginx配置
/etc/nginx/sites-available/mysite
/etc/nginx/sites-enabled/mysite

# SSL证书
/etc/ssl/certs/mysite.crt
/etc/ssl/private/mysite.key

# 应用配置
/opt/myapp/config/production.json
/opt/myapp/.env

# 静态文件
/srv/www/mysite/
├── css/
├── js/
├── images/
└── uploads/
```

#### **数据库相关操作**
```bash
# MySQL数据目录（通常在/var/lib/mysql/）
/data/mysql/                   # 如果自定义数据目录

# 配置文件
/etc/mysql/mysql.conf.d/mysqld.cnf

# 备份脚本
/home/admin/scripts/backup.sh
```

### 4. 系统管理常用操作

#### **服务管理**
```bash
# 创建自定义服务
/etc/systemd/system/myapp.service

# 启动脚本
/etc/init.d/myapp              # 传统方式
```

#### **定时任务**
```bash
# Crontab文件
/var/spool/cron/crontabs/username
/etc/cron.d/myapp

# 定时脚本
/home/admin/scripts/daily-backup.sh
```

#### **监控和日志**
```bash
# 自定义日志
/var/log/myapp/
├── access.log
├── error.log
└── debug.log

# 监控脚本
/home/admin/monitoring/check-services.sh
```

#### **生产环境特有**
```bash
/data/                         # 生产数据
/backups/                      # 备份文件
/scripts/deployment/           # 部署脚本
/etc/logrotate.d/myapp        # 日志轮转配置
```

### 6. 权限管理重点

#### **用户创建文件的典型权限**
- **应用文件**: 755 (rwxr-xr-x)
- **配置文件**: 644 (rw-r--r--)
- **敏感配置**: 600 (rw-------)
- **可执行脚本**: 755 (rwxr-xr-x)
- **数据目录**: 750 (rwxr-x---)

## 实际开发建议

1. **代码部署**：使用 `/opt/` 或 `/srv/` 目录
2. **数据存储**：利用 `/data/` 目录（如图中所示）
3. **配置管理**：在 `/etc/` 下创建应用配置
4. **日志管理**：使用 `/var/log/` 下的应用子目录
5. **备份策略**：在 `/data/backups/` 或专门的备份目录

## 后端项目代码部署建议

### 1. **推荐的代码部署位置**

#### **生产环境最佳选择：`/opt/` 目录**
```bash
/opt/myproject/                 # 主项目目录
├── backend/                    # 后端代码
│   ├── src/                    # 源代码
│   ├── dist/                   # 编译后的代码
│   ├── node_modules/           # 依赖包
│   ├── package.json
│   └── .env                    # 环境配置
├── config/                     # 配置文件
├── logs/                       # 应用日志
├── scripts/                    # 部署脚本
└── uploads/                    # 上传文件
```

**优势：**
- 符合Linux标准，专门用于可选软件包
- 独立于系统目录，便于管理和备份
- 权限控制清晰，安全性好

#### **替代方案：`/srv/` 目录**
```bash
/srv/www/myproject/             # Web服务数据目录
├── backend/                    # 后端API服务
├── frontend/                   # 前端静态文件
└── uploads/                    # 用户上传文件
```

**适用场景：**
  - Web应用项目
  - 需要同时部署前后端的项目


## /home 用户文件夹
#### **ubuntu** (drwxr-x--- ubuntu)
- **类型**: Ubuntu系统默认用户
- **特点**: Ubuntu云服务器的标准用户
- **权限**: 通常有sudo权限
- **用途**:
  ```bash
  /home/ubuntu/
  ├── .ssh/authorized_keys       # SSH公钥认证
  ├── .bash_history              # 命令历史
  ├── .sudo_as_admin_successful  # sudo权限标记
  ├── projects/                  # 项目开发
  └── scripts/                   # 管理脚本
  ```
### **与 `/opt/` 目录的区别**

| 目录 | 用途 | 权限 | 适用场景 |
|------|------|------|----------|
| `/home/用户名/` | 个人工作空间 | 用户私有 | 开发、测试、个人项目 |
| `/opt/` | 应用程序部署 | 系统级 | 生产环境、正式部署 |

在实际使用中，开发者通常在自己的 `/home` 目录下进行开发和测试，然后将成熟的应用部署到 `/opt/` 或 `/srv/` 目录下。


1.PID 是 Process ID（进程标识符） 的缩写，是Linux/Unix系统中非常重要的概念
重要的系统PID
PID 1: init进程（系统第一个用户进程）
PID 0: 内核调度进程
PID 2: 内核线程守护进程


2.开发模式 vs 生产模式的核心区别
  npm run dev（开发模式）
    实时编译：代码修改后自动重新编译
    热更新：浏览器自动刷新，保持开发状态
    源码映射：便于调试，可以看到原始代码
    开发服务器：通常运行在 localhost:3000 等端口
    未压缩代码：代码保持可读性
  Vite开发服务器 npm run dev
    # 实际执行: vite --mode development
    # - 使用ES模块原生支持
    # - 按需编译（只编译访问的模块）
    # - HMR（热模块替换）
    # - 开发时优化
  文件状态：
    代码在内存中编译
    不生成物理文件
    实时转换TypeScript/JSX
    CSS预处理器实时编译
  打包后运行（生产模式）
    # 构建生产版本 npm run build
    # 实际执行: vite build
    # 生成 dist/ 目录
  生成的文件特点：
    代码压缩：移除空格、注释，变量名简化
    模块打包：多个文件合并成少数几个bundle
    资源优化：图片压缩、CSS提取
    哈希文件名：便于缓存管理
  部署运行：
    # 方式1: 静态文件服务器  npx serve dist
    # 方式2: Nginx部署  将dist/内容复制到/var/www/html/
    # 方式3: 预览构建结果  npm run preview
  资源处理策略
    文件类型	处理方式	最终形态
    小图片 (< 4KB)	Base64内联	嵌入到CSS/JS中
    大图片 (> 4KB)	独立文件	.png/.jpg/.webp
    SVG图标	可配置	内联或独立文件
    字体文件	独立文件	.woff2/.woff/.ttf
    JSON数据	可内联可独立	.json或嵌入JS